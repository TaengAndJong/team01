<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.team01.book.dao.BookDao">

<!-- 조회 -->
    <select id="selectAllBook" resultType="BookVO">
        select  "bookId",
                "bookName",
                "bookDesc",
                "author",
                "bookPrice",
                "stock",
                "stockStatus",
                "publishDate",
                "roleId",
                "cateId",
                "viewCnt",
                "bookImgPath",
                "writer"
        from book
    </select>


    <insert id="createBook" parameterType="BookVO">
        <selectKey keyProperty="bookId" resultType="String" order="BEFORE">
            SELECT BOOK_SECQUENCE.NEXTVAL FROM DUAL
        </selectKey>

        INSERT INTO BOOK (
        "bookId",
        "bookName",
        "bookDesc",
        "author",
        "bookPrice",
        "stock",
        "stockStatus",
        "publishDate",
        "roleId",
        "cateId",
        "bookImgPath",
        "writer"
        ) VALUES (
        #{bookId}
        , #{bookName}
        , #{bookDesc}
        , #{author}
        , #{bookPrice}
        , #{stock}
        , #{stockStatus}
        , #{publishDate}
        , #{roleId}
        , #{cateId}
        , #{cateName}
        , #{writer}
        )

    </insert>

</mapper>


