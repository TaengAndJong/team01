<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.team01.admin.dao.QnaOneDao">  <!--사용하는 Dao 연결-->
    <!--메서드 구현부-->
    <!--1:1문의 데이터 전체 조회-->
    <select id="allQnaDataList" parameterType="String" resultType="QnaOneVO">
        SELECT * FROM qnaOne
    </select>

        <select id="getAllQnaOneList" resultType="QnaOneVO" parameterType="com.example.team01.utils.Pagination">

        WITH filterData AS (
        SELECT ROWNUM AS rnum, a.*
        FROM (
        SELECT
        "qnaOneId",
        "qnaTitle",
        "qnaContent",
        "qnaWriter",
        "qnaDate",
        "qnaDel",
        "qnaStatus",
        "clientId",
        "roleId",
        "attachmentID"
        FROM qnaOne
        ORDER BY "qnaOneId" DESC
        ) a
        )

        SELECT *
        FROM filterData
        WHERE rnum BETWEEN #{pagination.startRow} AND #{pagination.endRow}
    </select>

</mapper>


